// src/utils/loggingMiddleware.js

const LOG_API_URL = "http://20.244.56.144/evaluation-service/logs";
const TOKEN = " ";  

export async function log(stack, level, packageName, message) {
    try {
        const res = await fetch(LOG_API_URL, {
            method: "POST",
            headers: {
                "Content-Type": "application/json",
                "Authorization": `Bearer ${TOKEN}`
            },
            body: JSON.stringify({
                stack,
                level,
                package: packageName,
                message
            })
        });

        const data = await res.json();
        console.log("Log created:", data);
    } catch (error) {
        console.error("Logging error:", error);
    }
}
